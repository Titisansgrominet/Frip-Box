<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>√âv√©nements Frip'Box</title>

  <!-- Leaflet (carte) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- FullCalendar -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f1f8e9;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #4caf50;
      color: white;
      padding: 20px;
      text-align: center;
    }

    .container {
      max-width: 1000px;
      margin: auto;
      padding: 20px;
    }

    #map {
      height: 400px;
      margin-bottom: 40px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }

    #calendar {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .btn-retour {
      display: inline-block;
      margin: 20px;
      padding: 10px 15px;
      background-color: #4caf50;
      color: white;
      text-decoration: none;
      border-radius: 5px;
    }
  </style>
</head>
<body>

<a href="index.html" class="btn-retour">‚¨Ö Retour √† l‚Äôaccueil</a>

<header>
  <h1>√âv√©nements Frip‚ÄôBox</h1>
</header>

<div class="container">
  <h2>Carte des lieux d‚Äô√©v√©nements</h2>
  <div id="map"></div>

  <h2>Calendrier des √©v√©nements</h2>
  <div id="calendar"></div>
</div>

<script>
  // ---------- CARTE ----------
  const map = L.map('map').setView([47.2184, -1.5536], 12); // Centr√© sur Nantes

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap'
  }).addTo(map);

  // Points de lieux d‚Äô√©v√©nements
  const lieux = [
    { name: "√âv√©nement au lyc√©e", lat: 47.217, lng: -1.550 },
    { name: "Frip‚ÄôAtelier √† la MJC", lat: 47.215, lng: -1.570 },
    { name: "Custom Party ‚Äì Quartier Est", lat: 47.220, lng: -1.530 }
  ];

  lieux.forEach(lieu => {
    L.marker([lieu.lat, lieu.lng])
      .addTo(map)
      .bindPopup(`<b>${lieu.name}</b>`);
  });

  // ---------- CALENDRIER ----------
  document.addEventListener('DOMContentLoaded', function () {
    const calendarEl = document.getElementById('calendar');
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'fr',
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,listWeek'
      },
      events: [
        {
          title: 'Atelier customisation',
          start: '2025-08-05',
          location: "Lyc√©e",
          description: "Atelier gratuit ouvert √† tous"
        },
        {
          title: 'Frip‚ÄôVide dressing',
          start: '2025-08-12',
          description: "Ram√®ne tes v√™tements √† √©changer !"
        },
        {
          title: 'D√©fil√© Frip‚ÄôBox',
          start: '2025-08-20'
        }
      ],
      eventClick: function(info) {
        alert(`üìå ${info.event.title}\nüóìÔ∏è Date : ${info.event.start.toLocaleDateString("fr-FR")}\nüìç Lieu : ${info.event.extendedProps.location || "Non pr√©cis√©"}\n‚ÑπÔ∏è ${info.event.extendedProps.description || ""}`);
      }
    });

    calendar.render();
  });
</script>

</body>
</html>
